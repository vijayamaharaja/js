var oo=function(a){var b="https://api.oocharts.com/v1/dynamic.jsonp",c=void 0,d={},e={},f={},g={},h=function(){for(var b=function(b){for(var c=[],d=a.getElementsByTagName("*"),e=0;e<d.length;e++)d[e].getAttribute(b)&&c.push(d[e]);return c},c=b("data-oochart"),d=0;d<c.length;d++){var e=c[d],f=e.getAttribute("data-oochart"),g=e.getAttribute("data-oochart-start-date"),h=e.getAttribute("data-oochart-end-date"),i=e.getAttribute("data-oochart-profile");if("metric"===f.toLowerCase()){var j=new r(i,g,h);j.setMetric(e.getAttribute("data-oochart-metric")),j.draw(e)}else if("timeline"===f.toLowerCase()){for(var k=new s(i,g,h),l=e.getAttribute("data-oochart-metrics"),m=l.split(","),n=0;n<m.length;n++)k.addMetric(m[n],m[n+1]),n+=1;k.draw(e)}else if("bar"===f.toLowerCase()){for(var o=new t(i,g,h),l=e.getAttribute("data-oochart-metrics"),m=l.split(","),n=0;n<m.length;n++)o.addMetric(m[n],m[n+1]),n+=1;var p=e.getAttribute("data-oochart-dimension");o.setDimension(p),o.draw(e)}else if("pie"===f.toLowerCase()){var q=new u(i,g,h),w=e.getAttribute("data-oochart-metric"),p=e.getAttribute("data-oochart-dimension"),j=w.split(",");q.setMetric(j[0],j[1]),q.setDimension(p),q.draw(e)}else if("table"===f.toLowerCase()){for(var x=new v(i,g,h),w=e.getAttribute("data-oochart-metrics"),y=e.getAttribute("data-oochart-dimensions"),m=w.split(","),z=y.split(","),n=0;n<m.length;n++)x.addMetric(m[n],m[n+1]),n+=1;for(var A=0;A<z.length;A++)x.addDimension(z[A],z[A+1]),A+=1;x.draw(e)}}},i=function(b,c){var d=a.createElement("script");d.type="text/javascript",d.src=b,d.async=!1,d.onreadystatechange=d.onload=function(){var a=d.readyState;c.done||a&&!/loaded|complete/.test(a)||(c.done=!0,c())};var e=a.getElementsByTagName("script")[0];e.parentNode.insertBefore(d,e)},j=function(a){if(!c)throw"Set APIKey with oo.setAPIKey before calling load";var b=function(a){"undefined"==typeof google?i("https://www.google.com/jsapi",a):a()},d=function(a){if("undefined"==typeof google.visualization)google.load("visualization","1",{packages:["corechart","table"],callback:a});else{var b=[];"undefined"==typeof google.visualization.corechart&&b.push("corechart"),"undefined"==typeof google.visualization.table&&b.push("table"),b.length>0&&google.load("visualization","1",{packages:b,callback:a})}},e=a;b(function(){d(function(){e&&e(),h()})})},k=function(a){c=a},l=function(a){d=a},m=function(a){e=a},n=function(a){f=a},o=function(a){var b=a.getFullYear().toString(),c=(a.getMonth()+1).toString(),a=a.getDate().toString();return 1===c.length&&(c="0"+c),1===a.length&&(a="0"+a),b+"-"+c+"-"+a},p=function(a){return new Date(a.substring(0,4),parseInt(a.substring(5,7))-1,a.substring(8,10))},q=function(a,b,c){if(this.metrics=[],this.dimensions=[],!a)throw new Error("Profile argument required");this.profile=a,b=b||new Date,c=c||new Date,b instanceof Date&&(b=o(b)),c instanceof Date&&(c=o(c));var d=function(a){return/^[0-9]+(m|d|w|y)$/.test(a)},e=function(a){return/^([0-9]{4}-[0-9]{2}-[0-9]{2})$|^[0-9]+(m|d|w|y)$/.test(a)};if(!d(b)&&!e(b))throw new Error("startDate parameter invalid");if(!d(c)&&!e(c))throw new Error("endDate parameter invalid");if(d(b)&&d(c))throw new Error("startDate and endDate cannot both be relative dates");this.startDate=b,this.endDate=c};q.prototype.clearMetrics=function(){this.metrics=[]},q.prototype.clearDimensions=function(){this.dimensions=[]},q.prototype.addMetric=function(a){this.metrics.push(a)},q.prototype.addDimension=function(a){this.dimensions.push(a)},q.prototype.setFilter=function(a){this.filters=a},q.prototype.setSort=function(a){this.sort=a},q.prototype.setSegment=function(a){this.segment=a},q.prototype.setIndex=function(a){this.index=a},q.prototype.setMaxResults=function(a){this.maxResults=a},q.prototype.execute=function(a){var d={};if(d.key=c,d.profile=this.profile,0===this.metrics.length)throw new Error("At least one metric is required");d.metrics=this.metrics.toString(),d.start=this.startDate,d.end=this.endDate,this.dimensions.length>0&&(d.dimensions=this.dimensions.toString()),this.filters&&(d.filters=this.filters),this.sort&&(d.sort=this.sort),this.index&&(d.index=this.index),this.segment&&(d.segment=this.segment),this.maxResults&&(d.maxResults=this.maxResults),JSONP.get(b,d,function(b){0===b.rows.length&&(b.rows=[[]]),a(b)})};var r=function(a,b,c){this.query=new q(a,b,c)};r.prototype.setMetric=function(a){this.query.clearMetrics(),this.query.addMetric(a)},r.prototype.draw=function(b,c){this.query.execute(function(d){var e;e="string"==typeof b?a.getElementById(b):b,e.innerHTML="undefined"!=typeof d.rows[0][0]?d.rows[0][0].toString():"0","undefined"!=typeof c&&c()})};var s=function(a,b,c){this.query=new q(a,b,c),this.query.addDimension("ga:date"),this.labels=[],this.options=d};s.prototype.setOptions=function(a){this.options=a},s.prototype.addMetric=function(a,b){this.labels.push(b),this.query.addMetric(a)},s.prototype.draw=function(b,c){var d=this;this.query.execute(function(e){for(var f=e.rows,g=0;g<f.length;g++)f[g][0]=p(f[g][0]);var h=new google.visualization.DataTable;h.addColumn("date","Date");for(var i=0;i<d.labels.length;i++)h.addColumn("number",d.labels[i]);h.addRows(f);var j;j="string"==typeof b?a.getElementById(b):b;var k=new google.visualization.LineChart(j);k.draw(h,d.options),"undefined"!=typeof c&&c()})};var t=function(a,b,c){this.query=new q(a,b,c),this.metricLabels=[],this.options=g};t.prototype.setOptions=function(a){this.options=a},t.prototype.addMetric=function(a,b){this.metricLabels.push(b),this.query.addMetric(a)},t.prototype.setDimension=function(a){this.query.clearDimensions(),this.query.dimensions.push(a),this.dimensionLabel=a},t.prototype.draw=function(b,c){var d=this;this.query.execute(function(e){var f=e.rows,g=new google.visualization.DataTable;g.addColumn("string",d.dimensionLabel);for(var h=0;h<d.metricLabels.length;h++)g.addColumn("number",d.metricLabels[h]);g.addRows(f);var i;i="string"==typeof b?a.getElementById(b):b;var j=new google.visualization.BarChart(i);j.draw(g,d.options),"undefined"!=typeof c&&c()})};var u=function(a,b,c){this.query=new q(a,b,c),this.options=e};u.prototype.setMetric=function(a,b){this.metricLabel=b,this.query.clearMetrics(),this.query.addMetric(a)},u.prototype.setDimension=function(a){this.query.clearDimensions(),this.query.dimensionLabel=a,this.query.addDimension(a)},u.prototype.setOptions=function(a){this.options=a},u.prototype.draw=function(b,c){var d=this;this.query.execute(function(e){var f=e.rows,g=new google.visualization.DataTable;g.addColumn("string",d.dimensionLabel),g.addColumn("number",d.metricLabel),g.addRows(f);var h;h="string"==typeof b?a.getElementById(b):b;var i=new google.visualization.PieChart(h);i.draw(g,d.options),"undefined"!=typeof c&&c()})};var v=function(a,b,c){this.query=new q(a,b,c),this.metricLabels=[],this.dimensionLabels=[],this.options=f};return v.prototype.addMetric=function(a,b){this.query.addMetric(a),this.metricLabels.push(b)},v.prototype.addDimension=function(a,b){this.query.addDimension(a),this.dimensionLabels.push(b)},v.prototype.setOptions=function(a){this.options=a},v.prototype.draw=function(b,c){var d=this;this.query.execute(function(e){for(var f=e.rows,g=[],h=0;h<d.dimensionLabels.length;h++)g.push(d.dimensionLabels[h]);for(var i=0;i<d.metricLabels.length;i++)g.push(d.metricLabels[i]);f.splice(0,0,g);var k,j=google.visualization.arrayToDataTable(f);k="string"==typeof b?a.getElementById(b):b;var l=new google.visualization.Table(k);l.draw(j,d.options),"undefined"!=typeof c&&c()})},{Query:q,Timeline:s,Bar:t,Metric:r,Pie:u,Table:v,load:j,formatDate:o,parseDate:p,setAPIKey:k,setTimelineDefaults:l,setPieDefaults:m,setTableDefaults:n}}(document),JSONP=function(a){var b=0,c={};return{get:function(d,e,f){arguments[2]||(f=arguments[1],e={}),d+=d.indexOf("?")+1?"&":"?";var k,g=a.getElementsByTagName("head")[0],h=a.createElement("script"),i=[],j=b;b++,e.callback="JSONP.callbacks.request_"+j,c["request_"+j]=function(a){g.removeChild(h),delete c["request_"+j],f(a)};for(k in e)i.push(k+"="+encodeURIComponent(e[k]));d+=i.join("&"),h.type="text/javascript",h.src=d,g.appendChild(h)},callbacks:c}}(document);